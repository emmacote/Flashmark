<!--
Modal dialogs for asking questions, seeing answers, and sending score submissions
-->


<div class="modal fade" id="resourceListId">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                Resources - {{ ec.activeObject.exercise.question }}
            </div>
            <div class="modal-body">
                            <table class="table resource_data_table">
                                <tr ng-repeat="resource in ec.dataList.resources">
                                    <td><a href="{{resource.url}}" target="_blank">{{resource.caption}}</a></td>
                                    <td><button class="btn btn-danger" ng-click="ec.deleteLearningResourceClick(resource.resource_id)">delete</button></td>
                                </tr>
                            </table>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" ng-click="ec.resourceListToResourceModalClick()">Add Resource</button>
                <button class="btn btn-primary" data-target="#resourceListId" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="addExerciseModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" align="center">New Exercise</div>
            <div class="modal-body">
                        <div class="container new_exercise_form_container">
                            <div class="row">
                                <div class="col-lg-6 col-xs-12">
                                    New Question
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-xs-12">
                                    <textarea maxlength="140" rows="5" cols="35" id="newQuestionId" ng-model="ec.newinfo.question" ng-trim="false" ng-change="ec.updateCharsLeft('newQuestion', 'questionCharsLeft')"></textarea><br />
                                    {{ ec.charsleft.question }}
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-xs-12">
                                    New Answer
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-6 col-xs-12">
                                    <textarea maxlength="140" rows="5" cols="35" id="newAnswerId" ng-model="ec.newinfo.answer" ng-trim="false" ng-change="ec.updateCharsLeft('newAnswer', 'answerCharsLeft')" /><br />
                                    {{ ec.charsleft.answer }}
                                </div>
                            </div>
                            <div class="row">
                                <button class="btn btn-primary" data-target="#addExerciseModal" data-dismiss="modal">Cancel</button>
                                <button class="btn btn-primary" ng-click="ec.addExerciseClick(ec.newinfo.question, ec.newinfo.answer)">OK</button>
                            </div>
                        </div>
            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>


<div class="modal fade" id="addResourceModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" align="center">New Learning Resource - {{ ec.activeObject.exercise.question }}</div>
            <div class="modal-body">
                <div class="container resource_form_container">
                    <div class="row">
                        <div class="col-lg-6 col-xs-12">New Resource Caption</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-xs-12">
                            <textarea maxlength="140" cols="35" rows="4" ng-model="ec.newinfo.caption" ng-trim="false" ng-change="ec.updateCharsLeft('new_caption_field', 'captionCharsLeft')"></textarea><br />
                            {{ ec.charsleft.caption }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-xs-12">New Resource URL</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-xs-12">
                            <textarea maxlength="140" cols="35" rows="4" ng-model="ec.newinfo.url" ng-paste="ec.pasteUrlHandler($event)" ng-trim="false" ng-change="ec.updateCharsLeft('new_url_field', 'urlCharsLeft')"></textarea><br />
                            {{ ec.charsleft.url }}
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-6 col-xs-12">
                            <button class="btn btn-primary" data-target="#addEResourceModal" data-dismiss="modal">Cancel</button>
                            <button class="btn btn-primary" ng-click="ec.addLearningResourceClick(ec.newinfo.caption, ec.newinfo.url)">OK</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer"></div>
        </div>
    </div>
</div>

<!-- Dialog showing the user a question -->
<div class="modal fade" id="questionModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <u><b>Question</b></u>
            </div>
            <div class="modal-body">
                {{ec.activeObject.exercise.question}}
            </div>
            <div class="modal-footer" align="center">
                <button class="btn btn-lg btn-primary" ng-click="ec.showAnswerClick()" id="showAnswerButton">Show Answer</button>
            </div>
        </div>
    </div>
</div>



 <!--
 The dialog that follows the question dialog.  Shows question, answer,
 and buttons the user can select to submit on how well they feel they did.
 -->
<div class="modal fade" id="questionAnswerModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <u><b>Question</b></u>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-xs-12"><b><u>{{ec.activeObject.exercise.question}}</u></b></div>
                </div>
                <div class="row">
                    <div class="col-xs-12">&nbsp;</div>
                </div>
                <div class="row">
                    <div class="col-xs-12"><pre>{{ec.activeObject.exercise.answer}}</pre></div>
                </div>
            </div>
            <div class="modal-footer" align="center">
                <div class="row">
                    <div class="col-xs-12" align="center">
                        <button class="btn btn-lg btn-danger" ng-click="ec.scoreClick(1)">
                            bad
                        </button>
                        <button class="btn btn-lg"  ng-click="ec.scoreClick(2)">
                            okay
                        </button>
                        <button class="btn btn-lg btn-primary"  ng-click="ec.scoreClick(3)">
                            good
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--
The dialog that lets you change the tags for a given exercise
-->
<div class="modal fade" id="changeTagsModal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">Change Tags</div>
            <div class="modal-body">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-4">{{ec.activeObject.exercise.question}}</div>
                    </div>
                    <div class="row">
                        <div class="col-lg-4">
                                <input type="text" name="tfChangeTags" ng-model="ec.newinfo.tagChanges" id="tfChangeTags" class="form-control"/>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button ig="btnOkay" class="btn btn-primary btn-lg" ng-click="ec.commitTagChanges(ec.activeObject.exercise, ec.newinfo.tagChanges)">OK</button>
            </div>
        </div>
    </div>
</div>

